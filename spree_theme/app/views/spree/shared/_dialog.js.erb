<%
dialog_content_container_selector = @theme.dialog_content_container_selector
target_view = ( params[:action]=='update' ? 'edit' : params[:action] )
%>

$("<%=dialog_content_container_selector%>").html(<%= raw ( render :partial => target_view ).to_json %>)
// append dialog into page-inner, apply global css on dialog.
// global css a apply close button of dialog, it cause wrong size of dialog, show disable 'close'
$("#dialog").modal({appendTo:'#page-inner',closeHTML:'', escClose:true, overlayClose:true});
$("#dialog button.cancel").click( function(){
  $.modal.close();
});
